var Ar=Object.defineProperty;var Br=(e,t,n)=>t in e?Ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ae=(e,t,n)=>Br(e,typeof t!="symbol"?t+"":t,n);import{c as ln,d as un,e as Ir}from"./@noble-D0EBiHBN.js";function Jt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function dn(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Sr(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jt(e.outputLen),Jt(e.blockLen)}function qe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function _r(e,t){dn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ot=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hn=e=>e instanceof Uint8Array,it=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),G=(e,t)=>e<<32-t|e>>>t,Lr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Lr)throw new Error("Non little-endian hardware is not supported");function kr(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function At(e){if(typeof e=="string"&&(e=kr(e)),!hn(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function $r(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!hn(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let pn=class{clone(){return this._cloneInto()}};function Rr(e){const t=r=>e().update(At(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function gn(e=32){if(ot&&typeof ot.getRandomValues=="function")return ot.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Ur(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}let Tr=class extends pn{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=it(this.buffer)}update(t){qe(this);const{view:n,buffer:r,blockLen:o}=this;t=At(t);const i=t.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const c=it(t);for(;o<=i-s;s+=o)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){qe(this),_r(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let f=s;f<o;f++)n[f]=0;Ur(r,o-8,BigInt(this.length*8),i),this.process(r,0);const a=it(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:a}=this;return t.length=o,t.pos=a,t.finished=i,t.destroyed=s,o%n&&t.buffer.set(r),t}};const Nr=(e,t,n)=>e&t^~e&n,Cr=(e,t,n)=>e&t^e&n^t&n,Hr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ce=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fe=new Uint32Array(64);let Or=class extends Tr{constructor(){super(64,32,8,!1),this.A=ce[0]|0,this.B=ce[1]|0,this.C=ce[2]|0,this.D=ce[3]|0,this.E=ce[4]|0,this.F=ce[5]|0,this.G=ce[6]|0,this.H=ce[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:s,G:a,H:c}=this;return[t,n,r,o,i,s,a,c]}set(t,n,r,o,i,s,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)fe[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const y=fe[f-15],E=fe[f-2],b=G(y,7)^G(y,18)^y>>>3,d=G(E,17)^G(E,19)^E>>>10;fe[f]=d+fe[f-7]+b+fe[f-16]|0}let{A:r,B:o,C:i,D:s,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const y=G(a,6)^G(a,11)^G(a,25),E=u+y+Nr(a,c,l)+Hr[f]+fe[f]|0,d=(G(r,2)^G(r,13)^G(r,22))+Cr(r,o,i)|0;u=l,l=c,c=a,a=s+E|0,s=i,i=o,o=r,r=E+d|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,i,s,a,c,l,u)}roundClean(){fe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const ht=Rr(()=>new Or);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wn=BigInt(0),je=BigInt(1),Pr=BigInt(2),Ze=e=>e instanceof Uint8Array,qr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ie(e){if(!Ze(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=qr[e[n]];return t}function yn(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Bt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Se(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,i=e.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function q(e){return Bt(Ie(e))}function It(e){if(!Ze(e))throw new Error("Uint8Array expected");return Bt(Ie(Uint8Array.from(e).reverse()))}function de(e,t){return Se(e.toString(16).padStart(t*2,"0"))}function St(e,t){return de(e,t).reverse()}function Mr(e){return Se(yn(e))}function O(e,t,n){let r;if(typeof t=="string")try{r=Se(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(Ze(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function be(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!Ze(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function zr(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Dr(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Vr(e){let t;for(t=0;e>wn;e>>=je,t+=1);return t}function jr(e,t){return e>>BigInt(t)&je}const Zr=(e,t,n)=>e|(n?je:wn)<<BigInt(t),_t=e=>(Pr<<BigInt(e-1))-je,st=e=>new Uint8Array(e),Yt=e=>Uint8Array.from(e);function bn(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=st(e),o=st(e),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...f)=>n(o,r,...f),c=(f=st())=>{o=a(Yt([0]),f),r=a(),f.length!==0&&(o=a(Yt([1]),f),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const y=[];for(;f<t;){r=a();const E=r.slice();y.push(E),f+=r.length}return be(...y)};return(f,y)=>{s(),c(f);let E;for(;!(E=y(l()));)c();return s(),E}}const Kr={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function He(e,t,n={}){const r=(o,i,s)=>{const a=Kr[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=e[o];if(!(s&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(o)}=${c} (${typeof c}), expected ${i}`)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return e}const Fr=Object.freeze(Object.defineProperty({__proto__:null,bitGet:jr,bitLen:Vr,bitMask:_t,bitSet:Zr,bytesToHex:Ie,bytesToNumberBE:q,bytesToNumberLE:It,concatBytes:be,createHmacDrbg:bn,ensureBytes:O,equalBytes:zr,hexToBytes:Se,hexToNumber:Bt,numberToBytesBE:de,numberToBytesLE:St,numberToHexUnpadded:yn,numberToVarBytesBE:Mr,utf8ToBytes:Dr,validateObject:He},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C=BigInt(0),U=BigInt(1),we=BigInt(2),Gr=BigInt(3),pt=BigInt(4),Xt=BigInt(5),Qt=BigInt(8);BigInt(9);BigInt(16);function H(e,t){const n=e%t;return n>=C?n:t+n}function Wr(e,t,n){if(n<=C||t<C)throw new Error("Expected power/modulo > 0");if(n===U)return C;let r=U;for(;t>C;)t&U&&(r=r*e%n),e=e*e%n,t>>=U;return r}function Z(e,t,n){let r=e;for(;t-- >C;)r*=r,r%=n;return r}function gt(e,t){if(e===C||t<=C)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=H(e,t),r=t,o=C,i=U;for(;n!==C;){const a=r/n,c=r%n,l=o-i*a;r=n,n=c,o=i,i=l}if(r!==U)throw new Error("invert: does not exist");return H(o,t)}function Jr(e){const t=(e-U)/we;let n,r,o;for(n=e-U,r=0;n%we===C;n/=we,r++);for(o=we;o<e&&Wr(o,t,e)!==e-U;o++);if(r===1){const s=(e+U)/pt;return function(c,l){const u=c.pow(l,s);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(n+U)/we;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,o),n),f=a.pow(c,i),y=a.pow(c,n);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let E=1;for(let d=a.sqr(y);E<l&&!a.eql(d,a.ONE);E++)d=a.sqr(d);const b=a.pow(u,U<<BigInt(l-E-1));u=a.sqr(b),f=a.mul(f,b),y=a.mul(y,u),l=E}return f}}function Yr(e){if(e%pt===Gr){const t=(e+U)/pt;return function(r,o){const i=r.pow(o,t);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(e%Qt===Xt){const t=(e-Xt)/Qt;return function(r,o){const i=r.mul(o,we),s=r.pow(i,t),a=r.mul(o,s),c=r.mul(r.mul(a,we),s),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),o))throw new Error("Cannot find square root");return l}}return Jr(e)}const Xr=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qr(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Xr.reduce((r,o)=>(r[o]="function",r),t);return He(e,n)}function eo(e,t,n){if(n<C)throw new Error("Expected power > 0");if(n===C)return e.ONE;if(n===U)return t;let r=e.ONE,o=t;for(;n>C;)n&U&&(r=e.mul(r,o)),o=e.sqr(o),n>>=U;return r}function to(e,t){const n=new Array(t.length),r=t.reduce((i,s,a)=>e.is0(s)?i:(n[a]=i,e.mul(i,s)),e.ONE),o=e.inv(r);return t.reduceRight((i,s,a)=>e.is0(s)?i:(n[a]=e.mul(i,n[a]),e.mul(i,s)),o),n}function En(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function no(e,t,n=!1,r={}){if(e<=C)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=En(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Yr(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:_t(o),ZERO:C,ONE:U,create:c=>H(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return C<=c&&c<e},is0:c=>c===C,isOdd:c=>(c&U)===U,neg:c=>H(-c,e),eql:(c,l)=>c===l,sqr:c=>H(c*c,e),add:(c,l)=>H(c+l,e),sub:(c,l)=>H(c-l,e),mul:(c,l)=>H(c*l,e),pow:(c,l)=>eo(a,c,l),div:(c,l)=>H(c*gt(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>gt(c,e),sqrt:r.sqrt||(c=>s(a,c)),invertBatch:c=>to(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?St(c,i):de(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return n?It(c):q(c)}});return Object.freeze(a)}function mn(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function vn(e){const t=mn(e);return t+Math.ceil(t/2)}function ro(e,t,n=!1){const r=e.length,o=mn(t),i=vn(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const s=n?q(e):It(e),a=H(s,t-U)+U;return n?St(a,o):de(a,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oo=BigInt(0),at=BigInt(1);function io(e,t){const n=(o,i)=>{const s=i.negate();return o?s:i},r=o=>{const i=Math.ceil(t/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:n,unsafeLadder(o,i){let s=e.ZERO,a=o;for(;i>oo;)i&at&&(s=s.add(a)),a=a.double(),i>>=at;return s},precomputeWindow(o,i){const{windows:s,windowSize:a}=r(i),c=[];let l=o,u=l;for(let f=0;f<s;f++){u=l,c.push(u);for(let y=1;y<a;y++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(o,i,s){const{windows:a,windowSize:c}=r(o);let l=e.ZERO,u=e.BASE;const f=BigInt(2**o-1),y=2**o,E=BigInt(o);for(let b=0;b<a;b++){const d=b*c;let p=Number(s&f);s>>=E,p>c&&(p-=y,s+=at);const g=d,v=d+Math.abs(p)-1,A=b%2!==0,_=p<0;p===0?u=u.add(n(A,i[g])):l=l.add(n(_,i[v]))}return{p:l,f:u}},wNAFCached(o,i,s,a){const c=o._WINDOW_SIZE||1;let l=i.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&i.set(o,a(l))),this.wNAF(c,l,s)}}}function xn(e){return Qr(e.Fp),He(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...En(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function so(e){const t=xn(e);He(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:ao,hexToBytes:co}=Fr,ye={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=ye;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ao(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=ye,n=typeof e=="string"?co(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=ye._parseInt(n.subarray(2)),{d:s,l:a}=ye._parseInt(i);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=t(n(e.s)),o=t(n(e.r)),i=r.length/2,s=o.length/2,a=n(i),c=n(s);return`30${n(s+i+4)}02${c}${o}02${a}${r}`}},X=BigInt(0),K=BigInt(1);BigInt(2);const en=BigInt(3);BigInt(4);function fo(e){const t=so(e),{Fp:n}=t,r=t.toBytes||((b,d,p)=>{const g=d.toAffine();return be(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),o=t.fromBytes||(b=>{const d=b.subarray(1),p=n.fromBytes(d.subarray(0,n.BYTES)),g=n.fromBytes(d.subarray(n.BYTES,2*n.BYTES));return{x:p,y:g}});function i(b){const{a:d,b:p}=t,g=n.sqr(b),v=n.mul(g,b);return n.add(n.add(v,n.mul(b,d)),p)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(b){return typeof b=="bigint"&&X<b&&b<t.n}function a(b){if(!s(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(b){const{allowedPrivateKeyLengths:d,nByteLength:p,wrapPrivateKey:g,n:v}=t;if(d&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=Ie(b)),typeof b!="string"||!d.includes(b.length))throw new Error("Invalid key");b=b.padStart(p*2,"0")}let A;try{A=typeof b=="bigint"?b:q(O("private key",b,p))}catch{throw new Error(`private key must be ${p} bytes, hex or bigint, not ${typeof b}`)}return g&&(A=H(A,v)),a(A),A}const l=new Map;function u(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(d,p,g){if(this.px=d,this.py=p,this.pz=g,d==null||!n.isValid(d))throw new Error("x required");if(p==null||!n.isValid(p))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(d){const{x:p,y:g}=d||{};if(!d||!n.isValid(p)||!n.isValid(g))throw new Error("invalid affine point");if(d instanceof f)throw new Error("projective point not allowed");const v=A=>n.eql(A,n.ZERO);return v(p)&&v(g)?f.ZERO:new f(p,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){const p=n.invertBatch(d.map(g=>g.pz));return d.map((g,v)=>g.toAffine(p[v])).map(f.fromAffine)}static fromHex(d){const p=f.fromAffine(o(O("pointHex",d)));return p.assertValidity(),p}static fromPrivateKey(d){return f.BASE.multiply(c(d))}_setWindowSize(d){this._WINDOW_SIZE=d,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:d,y:p}=this.toAffine();if(!n.isValid(d)||!n.isValid(p))throw new Error("bad point: x or y not FE");const g=n.sqr(p),v=i(d);if(!n.eql(g,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:d}=this.toAffine();if(n.isOdd)return!n.isOdd(d);throw new Error("Field doesn't support isOdd")}equals(d){u(d);const{px:p,py:g,pz:v}=this,{px:A,py:_,pz:S}=d,m=n.eql(n.mul(p,S),n.mul(A,v)),x=n.eql(n.mul(g,S),n.mul(_,v));return m&&x}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:d,b:p}=t,g=n.mul(p,en),{px:v,py:A,pz:_}=this;let S=n.ZERO,m=n.ZERO,x=n.ZERO,I=n.mul(v,v),j=n.mul(A,A),R=n.mul(_,_),L=n.mul(v,A);return L=n.add(L,L),x=n.mul(v,_),x=n.add(x,x),S=n.mul(d,x),m=n.mul(g,R),m=n.add(S,m),S=n.sub(j,m),m=n.add(j,m),m=n.mul(S,m),S=n.mul(L,S),x=n.mul(g,x),R=n.mul(d,R),L=n.sub(I,R),L=n.mul(d,L),L=n.add(L,x),x=n.add(I,I),I=n.add(x,I),I=n.add(I,R),I=n.mul(I,L),m=n.add(m,I),R=n.mul(A,_),R=n.add(R,R),I=n.mul(R,L),S=n.sub(S,I),x=n.mul(R,j),x=n.add(x,x),x=n.add(x,x),new f(S,m,x)}add(d){u(d);const{px:p,py:g,pz:v}=this,{px:A,py:_,pz:S}=d;let m=n.ZERO,x=n.ZERO,I=n.ZERO;const j=t.a,R=n.mul(t.b,en);let L=n.mul(p,A),M=n.mul(g,_),z=n.mul(v,S),oe=n.add(p,g),h=n.add(A,_);oe=n.mul(oe,h),h=n.add(L,M),oe=n.sub(oe,h),h=n.add(p,v);let w=n.add(A,S);return h=n.mul(h,w),w=n.add(L,z),h=n.sub(h,w),w=n.add(g,v),m=n.add(_,S),w=n.mul(w,m),m=n.add(M,z),w=n.sub(w,m),I=n.mul(j,h),m=n.mul(R,z),I=n.add(m,I),m=n.sub(M,I),I=n.add(M,I),x=n.mul(m,I),M=n.add(L,L),M=n.add(M,L),z=n.mul(j,z),h=n.mul(R,h),M=n.add(M,z),z=n.sub(L,z),z=n.mul(j,z),h=n.add(h,z),L=n.mul(M,h),x=n.add(x,L),L=n.mul(w,h),m=n.mul(oe,m),m=n.sub(m,L),L=n.mul(oe,M),I=n.mul(w,I),I=n.add(I,L),new f(m,x,I)}subtract(d){return this.add(d.negate())}is0(){return this.equals(f.ZERO)}wNAF(d){return E.wNAFCached(this,l,d,p=>{const g=n.invertBatch(p.map(v=>v.pz));return p.map((v,A)=>v.toAffine(g[A])).map(f.fromAffine)})}multiplyUnsafe(d){const p=f.ZERO;if(d===X)return p;if(a(d),d===K)return this;const{endo:g}=t;if(!g)return E.unsafeLadder(this,d);let{k1neg:v,k1:A,k2neg:_,k2:S}=g.splitScalar(d),m=p,x=p,I=this;for(;A>X||S>X;)A&K&&(m=m.add(I)),S&K&&(x=x.add(I)),I=I.double(),A>>=K,S>>=K;return v&&(m=m.negate()),_&&(x=x.negate()),x=new f(n.mul(x.px,g.beta),x.py,x.pz),m.add(x)}multiply(d){a(d);let p=d,g,v;const{endo:A}=t;if(A){const{k1neg:_,k1:S,k2neg:m,k2:x}=A.splitScalar(p);let{p:I,f:j}=this.wNAF(S),{p:R,f:L}=this.wNAF(x);I=E.constTimeNegate(_,I),R=E.constTimeNegate(m,R),R=new f(n.mul(R.px,A.beta),R.py,R.pz),g=I.add(R),v=j.add(L)}else{const{p:_,f:S}=this.wNAF(p);g=_,v=S}return f.normalizeZ([g,v])[0]}multiplyAndAddUnsafe(d,p,g){const v=f.BASE,A=(S,m)=>m===X||m===K||!S.equals(v)?S.multiplyUnsafe(m):S.multiply(m),_=A(this,p).add(A(d,g));return _.is0()?void 0:_}toAffine(d){const{px:p,py:g,pz:v}=this,A=this.is0();d==null&&(d=A?n.ONE:n.inv(v));const _=n.mul(p,d),S=n.mul(g,d),m=n.mul(v,d);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(m,n.ONE))throw new Error("invZ was invalid");return{x:_,y:S}}isTorsionFree(){const{h:d,isTorsionFree:p}=t;if(d===K)return!0;if(p)return p(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:d,clearCofactor:p}=t;return d===K?this:p?p(f,this):this.multiplyUnsafe(t.h)}toRawBytes(d=!0){return this.assertValidity(),r(f,this,d)}toHex(d=!0){return Ie(this.toRawBytes(d))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const y=t.nBitLength,E=io(f,t.endo?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function lo(e){const t=xn(e);return He(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function uo(e){const t=lo(e),{Fp:n,n:r}=t,o=n.BYTES+1,i=2*n.BYTES+1;function s(h){return X<h&&h<n.ORDER}function a(h){return H(h,r)}function c(h){return gt(h,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:y}=fo({...t,toBytes(h,w,B){const $=w.toAffine(),k=n.toBytes($.x),N=be;return B?N(Uint8Array.from([w.hasEvenY()?2:3]),k):N(Uint8Array.from([4]),k,n.toBytes($.y))},fromBytes(h){const w=h.length,B=h[0],$=h.subarray(1);if(w===o&&(B===2||B===3)){const k=q($);if(!s(k))throw new Error("Point is not on curve");const N=f(k);let D=n.sqrt(N);const V=(D&K)===K;return(B&1)===1!==V&&(D=n.neg(D)),{x:k,y:D}}else if(w===i&&B===4){const k=n.fromBytes($.subarray(0,n.BYTES)),N=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:k,y:N}}else throw new Error(`Point of length ${w} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),E=h=>Ie(de(h,t.nByteLength));function b(h){const w=r>>K;return h>w}function d(h){return b(h)?a(-h):h}const p=(h,w,B)=>q(h.slice(w,B));class g{constructor(w,B,$){this.r=w,this.s=B,this.recovery=$,this.assertValidity()}static fromCompact(w){const B=t.nByteLength;return w=O("compactSignature",w,B*2),new g(p(w,0,B),p(w,B,2*B))}static fromDER(w){const{r:B,s:$}=ye.toSig(O("DER",w));return new g(B,$)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(w){return new g(this.r,this.s,w)}recoverPublicKey(w){const{r:B,s:$,recovery:k}=this,N=x(O("msgHash",w));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const D=k===2||k===3?B+t.n:B;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=k&1?"03":"02",ie=l.fromHex(V+E(D)),se=c(D),Ee=a(-N*se),Re=a($*se),ae=l.BASE.multiplyAndAddUnsafe(ie,Ee,Re);if(!ae)throw new Error("point at infinify");return ae.assertValidity(),ae}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Se(this.toDERHex())}toDERHex(){return ye.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Se(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const v={isValidPrivateKey(h){try{return u(h),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const h=vn(t.n);return ro(t.randomBytes(h),t.n)},precompute(h=8,w=l.BASE){return w._setWindowSize(h),w.multiply(BigInt(3)),w}};function A(h,w=!0){return l.fromPrivateKey(h).toRawBytes(w)}function _(h){const w=h instanceof Uint8Array,B=typeof h=="string",$=(w||B)&&h.length;return w?$===o||$===i:B?$===2*o||$===2*i:h instanceof l}function S(h,w,B=!0){if(_(h))throw new Error("first arg must be private key");if(!_(w))throw new Error("second arg must be public key");return l.fromHex(w).multiply(u(h)).toRawBytes(B)}const m=t.bits2int||function(h){const w=q(h),B=h.length*8-t.nBitLength;return B>0?w>>BigInt(B):w},x=t.bits2int_modN||function(h){return a(m(h))},I=_t(t.nBitLength);function j(h){if(typeof h!="bigint")throw new Error("bigint expected");if(!(X<=h&&h<I))throw new Error(`bigint expected < 2^${t.nBitLength}`);return de(h,t.nByteLength)}function R(h,w,B=L){if(["recovered","canonical"].some(ge=>ge in B))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:k}=t;let{lowS:N,prehash:D,extraEntropy:V}=B;N==null&&(N=!0),h=O("msgHash",h),D&&(h=O("prehashed msgHash",$(h)));const ie=x(h),se=u(w),Ee=[j(se),j(ie)];if(V!=null){const ge=V===!0?k(n.BYTES):V;Ee.push(O("extraEntropy",ge))}const Re=be(...Ee),ae=ie;function rt(ge){const me=m(ge);if(!y(me))return;const Ft=c(me),ve=l.BASE.multiply(me).toAffine(),F=a(ve.x);if(F===X)return;const xe=a(Ft*a(ae+F*se));if(xe===X)return;let Gt=(ve.x===F?0:2)|Number(ve.y&K),Wt=xe;return N&&b(xe)&&(Wt=d(xe),Gt^=1),new g(F,Wt,Gt)}return{seed:Re,k2sig:rt}}const L={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function z(h,w,B=L){const{seed:$,k2sig:k}=R(h,w,B),N=t;return bn(N.hash.outputLen,N.nByteLength,N.hmac)($,k)}l.BASE._setWindowSize(8);function oe(h,w,B,$=M){var ve;const k=h;if(w=O("msgHash",w),B=O("publicKey",B),"strict"in $)throw new Error("options.strict was renamed to lowS");const{lowS:N,prehash:D}=$;let V,ie;try{if(typeof k=="string"||k instanceof Uint8Array)try{V=g.fromDER(k)}catch(F){if(!(F instanceof ye.Err))throw F;V=g.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){const{r:F,s:xe}=k;V=new g(F,xe)}else throw new Error("PARSE");ie=l.fromHex(B)}catch(F){if(F.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(N&&V.hasHighS())return!1;D&&(w=t.hash(w));const{r:se,s:Ee}=V,Re=x(w),ae=c(Ee),rt=a(Re*ae),ge=a(se*ae),me=(ve=l.BASE.multiplyAndAddUnsafe(ie,rt,ge))==null?void 0:ve.toAffine();return me?a(me.x)===se:!1}return{CURVE:t,getPublicKey:A,getSharedSecret:S,sign:z,verify:oe,ProjectivePoint:l,Signature:g,utils:v}}let An=class extends pn{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Sr(t);const r=At(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return qe(this),this.iHash.update(t),this}digestInto(t){qe(this),dn(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Bn=(e,t,n)=>new An(e,t).update(n).digest();Bn.create=(e,t)=>new An(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ho(e){return{hash:e,hmac:(t,...n)=>Bn(e,t,$r(...n)),randomBytes:gn}}function po(e,t){const n=r=>uo({...e,...ho(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ke=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Me=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),In=BigInt(1),ze=BigInt(2),tn=(e,t)=>(e+t/ze)/t;function Sn(e){const t=Ke,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Z(u,n,t)*u%t,y=Z(f,n,t)*u%t,E=Z(y,ze,t)*l%t,b=Z(E,o,t)*E%t,d=Z(b,i,t)*b%t,p=Z(d,a,t)*d%t,g=Z(p,c,t)*p%t,v=Z(g,a,t)*d%t,A=Z(v,n,t)*u%t,_=Z(A,s,t)*b%t,S=Z(_,r,t)*l%t,m=Z(S,ze,t);if(!wt.eql(wt.sqr(m),e))throw new Error("Cannot find square root");return m}const wt=no(Ke,void 0,void 0,{sqrt:Sn}),ke=po({a:BigInt(0),b:BigInt(7),Fp:wt,n:Me,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Me,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-In*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=tn(i*e,t),c=tn(-r*e,t);let l=H(e-a*n-c*o,t),u=H(-a*r-c*i,t);const f=l>s,y=u>s;if(f&&(l=t-l),y&&(u=t-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:y,k2:u}}}},ht),Fe=BigInt(0),_n=e=>typeof e=="bigint"&&Fe<e&&e<Ke,go=e=>typeof e=="bigint"&&Fe<e&&e<Me,nn={};function De(e,...t){let n=nn[e];if(n===void 0){const r=ht(Uint8Array.from(e,o=>o.charCodeAt(0)));n=be(r,r),nn[e]=n}return ht(be(n,...t))}const Lt=e=>e.toRawBytes(!0).slice(1),yt=e=>de(e,32),ct=e=>H(e,Ke),Ne=e=>H(e,Me),kt=ke.ProjectivePoint,wo=(e,t,n)=>kt.BASE.multiplyAndAddUnsafe(e,t,n);function bt(e){let t=ke.utils.normPrivateKeyToScalar(e),n=kt.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ne(-t),bytes:Lt(n)}}function Ln(e){if(!_n(e))throw new Error("bad x: need 0 < x < p");const t=ct(e*e),n=ct(t*e+BigInt(7));let r=Sn(n);r%ze!==Fe&&(r=ct(-r));const o=new kt(e,r,In);return o.assertValidity(),o}function kn(...e){return Ne(q(De("BIP0340/challenge",...e)))}function yo(e){return bt(e).bytes}function bo(e,t,n=gn(32)){const r=O("message",e),{bytes:o,scalar:i}=bt(t),s=O("auxRand",n,32),a=yt(i^q(De("BIP0340/aux",s))),c=De("BIP0340/nonce",a,o,r),l=Ne(q(c));if(l===Fe)throw new Error("sign failed: k is zero");const{bytes:u,scalar:f}=bt(l),y=kn(u,o,r),E=new Uint8Array(64);if(E.set(u,0),E.set(yt(Ne(f+y*i)),32),!$n(E,r,o))throw new Error("sign: Invalid signature produced");return E}function $n(e,t,n){const r=O("signature",e,64),o=O("message",t),i=O("publicKey",n,32);try{const s=Ln(q(i)),a=q(r.subarray(0,32));if(!_n(a))return!1;const c=q(r.subarray(32,64));if(!go(c))return!1;const l=kn(yt(a),Lt(s),o),u=wo(s,c,Ne(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}const Ue={getPublicKey:yo,sign:bo,verify:$n,utils:{randomPrivateKey:ke.utils.randomPrivateKey,lift_x:Ln,pointToBytes:Lt,numberToBytesBE:de,bytesToNumberBE:q,taggedHash:De,mod:H}},ft=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $t=e=>e instanceof Uint8Array,lt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),W=(e,t)=>e<<32-t|e>>>t,Eo=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Eo)throw new Error("Non little-endian hardware is not supported");const mo=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function P(e){if(!$t(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=mo[e[n]];return t}function _e(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,i=e.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function vo(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ce(e){if(typeof e=="string"&&(e=vo(e)),!$t(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Ge(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!$t(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class Rn{clone(){return this._cloneInto()}}function Un(e){const t=r=>e().update(Ce(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Tn(e=32){if(ft&&typeof ft.getRandomValues=="function")return ft.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Et(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function xo(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Nn(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Ao(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Et(e.outputLen),Et(e.blockLen)}function Bo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Io(e,t){Nn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const J={number:Et,bool:xo,bytes:Nn,hash:Ao,exists:Bo,output:Io};function So(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}class _o extends Rn{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=lt(this.buffer)}update(t){J.exists(this);const{view:n,buffer:r,blockLen:o}=this;t=Ce(t);const i=t.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const c=lt(t);for(;o<=i-s;s+=o)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){J.exists(this),J.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let f=s;f<o;f++)n[f]=0;So(r,o-8,BigInt(this.length*8),i),this.process(r,0);const a=lt(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:a}=this;return t.length=o,t.pos=a,t.finished=i,t.destroyed=s,o%n&&t.buffer.set(r),t}}const Lo=(e,t,n)=>e&t^~e&n,ko=(e,t,n)=>e&t^e&n^t&n,$o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),le=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ue=new Uint32Array(64);class Cn extends _o{constructor(){super(64,32,8,!1),this.A=le[0]|0,this.B=le[1]|0,this.C=le[2]|0,this.D=le[3]|0,this.E=le[4]|0,this.F=le[5]|0,this.G=le[6]|0,this.H=le[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:s,G:a,H:c}=this;return[t,n,r,o,i,s,a,c]}set(t,n,r,o,i,s,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)ue[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const y=ue[f-15],E=ue[f-2],b=W(y,7)^W(y,18)^y>>>3,d=W(E,17)^W(E,19)^E>>>10;ue[f]=d+ue[f-7]+b+ue[f-16]|0}let{A:r,B:o,C:i,D:s,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const y=W(a,6)^W(a,11)^W(a,25),E=u+y+Lo(a,c,l)+$o[f]+ue[f]|0,d=(W(r,2)^W(r,13)^W(r,22))+ko(r,o,i)|0;u=l,l=c,c=a,a=s+E|0,s=i,i=o,o=r,r=E+d|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,o,i,s,a,c,l,u)}roundClean(){ue.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Ro extends Cn{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Oe=Un(()=>new Cn);Un(()=>new Ro);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $e(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function te(...e){const t=(o,i)=>s=>o(i(s)),n=Array.from(e).reverse().reduce((o,i)=>o?t(o,i.encode):i.encode,void 0),r=e.reduce((o,i)=>o?t(o,i.decode):i.decode,void 0);return{encode:n,decode:r}}function ne(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if($e(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function re(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function We(e,t="="){if($e(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of n)if(typeof o!="string")throw new Error(`padding.decode: non-string input=${o}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Hn(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function rn(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach(s=>{if($e(s),s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let c=r;c<i.length;c++){const l=i[c],u=t*s+l;if(!Number.isSafeInteger(u)||t*s/t!==s||u-l!==t*s)throw new Error("convertRadix: carry overflow");if(s=u%n,i[c]=Math.floor(u/n),!Number.isSafeInteger(i[c])||i[c]*n+s!==u)throw new Error("convertRadix: carry overflow");if(a)i[c]?a=!1:r=c;else continue}if(o.push(s),a)break}for(let s=0;s<e.length-1&&e[s]===0;s++)o.push(0);return o.reverse()}const On=(e,t)=>t?On(t,e%t):e,Ve=(e,t)=>e+(t-On(e,t));function mt(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Ve(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Ve(t,n)}`);let o=0,i=0;const s=2**n-1,a=[];for(const c of e){if($e(c),c>=2**t)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(o=o<<t|c,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)a.push((o>>i-n&s)>>>0);o&=2**i-1}if(o=o<<n-i&s,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&a.push(o>>>0),a}function Uo(e){return $e(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return rn(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(rn(t,e,2**8))}}}function he(e,t=!1){if($e(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Ve(8,e)>32||Ve(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return mt(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(mt(n,e,8,t))}}}function on(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const To=te(he(4),ne("0123456789ABCDEF"),re("")),No=te(he(5),ne("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),We(5),re(""));te(he(5),ne("0123456789ABCDEFGHIJKLMNOPQRSTUV"),We(5),re(""));te(he(5),ne("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),re(""),Hn(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const ee=te(he(6),ne("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),We(6),re("")),Co=te(he(6),ne("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),We(6),re("")),Rt=e=>te(Uo(58),ne(e),re("")),vt=Rt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Rt("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Rt("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const sn=[0,2,3,5,6,7,9,10,11],Ho={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=vt.encode(r).padStart(sn[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=sn.indexOf(r.length),i=vt.decode(r);for(let s=0;s<i.length-o;s++)if(i[s]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}},xt=te(ne("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),re("")),an=[996825010,642813549,513874426,1027748829,705979059];function Te(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<an.length;r++)(t>>r&1)===1&&(n^=an[r]);return n}function cn(e,t,n=1){const r=e.length;let o=1;for(let i=0;i<r;i++){const s=e.charCodeAt(i);if(s<33||s>126)throw new Error(`Invalid prefix (${e})`);o=Te(o)^s>>5}o=Te(o);for(let i=0;i<r;i++)o=Te(o)^e.charCodeAt(i)&31;for(let i of t)o=Te(o)^i;for(let i=0;i<6;i++)o=Te(o);return o^=n,xt.encode(mt([o%2**30],30,5,!1))}function Pn(e){const t=e==="bech32"?1:734539939,n=he(5),r=n.decode,o=n.encode,i=on(r);function s(u,f,y=90){if(typeof u!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof u}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const E=u.length+7+f.length;if(y!==!1&&E>y)throw new TypeError(`Length ${E} exceeds limit ${y}`);return u=u.toLowerCase(),`${u}1${xt.encode(f)}${cn(u,f,t)}`}function a(u,f=90){if(typeof u!="string")throw new Error(`bech32.decode input should be string, not ${typeof u}`);if(u.length<8||f!==!1&&u.length>f)throw new TypeError(`Wrong string length: ${u.length} (${u}). Expected (8..${f})`);const y=u.toLowerCase();if(u!==y&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=y;const E=u.lastIndexOf("1");if(E===0||E===-1)throw new Error('Letter "1" must be present between prefix and data only');const b=u.slice(0,E),d=u.slice(E+1);if(d.length<6)throw new Error("Data must be at least 6 characters long");const p=xt.decode(d).slice(0,-6),g=cn(b,p,t);if(!d.endsWith(g))throw new Error(`Invalid checksum in ${u}: expected "${g}"`);return{prefix:b,words:p}}const c=on(a);function l(u){const{prefix:f,words:y}=a(u,!1);return{prefix:f,words:y,bytes:r(y)}}return{encode:s,decode:a,decodeToBytes:l,decodeUnsafe:c,fromWords:r,fromWordsUnsafe:i,toWords:o}}const Le=Pn("bech32");Pn("bech32m");const Oo={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},Po=te(he(4),ne("0123456789abcdef"),re(""),Hn(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),qo={utf8:Oo,hex:Po,base16:To,base32:No,base64:ee,base64url:Co,base58:vt,base58xmr:Ho};`${Object.keys(qo).join(", ")}`;class qn extends Rn{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,J.hash(t);const r=Ce(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return J.exists(this),this.iHash.update(t),this}digestInto(t){J.exists(this),J.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Je=(e,t,n)=>new qn(e,t).update(n).digest();Je.create=(e,t)=>new qn(e,t);function Mo(e,t,n){return J.hash(e),Je(e,Ce(n),Ce(t))}const ut=new Uint8Array([0]),fn=new Uint8Array;function zo(e,t,n,r=32){if(J.hash(e),J.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/e.outputLen);n===void 0&&(n=fn);const i=new Uint8Array(o*e.outputLen),s=Je.create(e,t),a=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let l=0;l<o;l++)ut[0]=l+1,a.update(l===0?fn:c).update(n).update(ut).digestInto(c),i.set(c,e.outputLen*l),s._cloneInto(a);return s.destroy(),a.destroy(),c.fill(0),ut.fill(0),i.slice(0,r)}var Do=Object.defineProperty,T=(e,t)=>{for(var n in t)Do(e,n,{get:t[n],enumerable:!0})},Be=Symbol("verified"),Vo=e=>e instanceof Object;function Mn(e){if(!Vo(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}var jo={};T(jo,{Queue:()=>Go,QueueNode:()=>zn,binarySearch:()=>Ut,insertEventIntoAscendingList:()=>Fo,insertEventIntoDescendingList:()=>Ko,normalizeURL:()=>Zo,utf8Decoder:()=>Q,utf8Encoder:()=>Y});var Q=new TextDecoder("utf-8"),Y=new TextEncoder;function Zo(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Ko(e,t){const[n,r]=Ut(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return r||e.splice(n,0,t),e}function Fo(e,t){const[n,r]=Ut(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return r||e.splice(n,0,t),e}function Ut(e,t){let n=0,r=e.length-1;for(;n<=r;){const o=Math.floor((n+r)/2),i=t(e[o]);if(i===0)return[o,!0];i<0?r=o-1:n=o+1}return[n,!1]}var zn=class{constructor(e){Ae(this,"value");Ae(this,"next",null);Ae(this,"prev",null);this.value=e}},Go=class{constructor(){Ae(this,"first");Ae(this,"last");this.first=null,this.last=null}enqueue(e){const t=new zn(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},Wo=class{generateSecretKey(){return Ue.utils.randomPrivateKey()}getPublicKey(e){return P(Ue.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=P(Ue.getPublicKey(t)),n.id=Pe(n),n.sig=P(Ue.sign(Pe(n),t)),n[Be]=!0,n}verifyEvent(e){if(typeof e[Be]=="boolean")return e[Be];const t=Pe(e);if(t!==e.id)return e[Be]=!1,!1;try{const n=Ue.verify(e.sig,t,e.pubkey);return e[Be]=n,n}catch{return e[Be]=!1,!1}}};function Jo(e){if(!Mn(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Pe(e){let t=Oe(Y.encode(Jo(e)));return P(t)}var Ye=new Wo,Ma=Ye.generateSecretKey,za=Ye.getPublicKey,pe=Ye.finalizeEvent,Tt=Ye.verifyEvent,Yo={};T(Yo,{Application:()=>es,BadgeAward:()=>ii,BadgeDefinition:()=>Fi,BlockedRelaysList:()=>$i,BookmarkList:()=>_i,Bookmarksets:()=>ji,Calendar:()=>as,CalendarEventRSVP:()=>cs,ChannelCreation:()=>Kn,ChannelHideMessage:()=>Wn,ChannelMessage:()=>Gn,ChannelMetadata:()=>Fn,ChannelMuteUser:()=>Jn,ClassifiedListing:()=>rs,ClientAuth:()=>Yn,CommunitiesList:()=>Li,CommunityDefinition:()=>us,CommunityPostApproval:()=>wi,Contacts:()=>ni,CreateOrUpdateProduct:()=>Ji,CreateOrUpdateStall:()=>Wi,Curationsets:()=>Zi,Date:()=>is,DirectMessageRelaysList:()=>Ni,DraftClassifiedListing:()=>os,DraftLong:()=>Xi,Emojisets:()=>Qi,EncryptedDirectMessage:()=>ri,EventDeletion:()=>oi,FileMetadata:()=>li,FileServerPreference:()=>Hi,Followsets:()=>zi,GenericRepost:()=>ci,Genericlists:()=>Di,GiftWrap:()=>Ci,HTTPAuth:()=>Ht,Handlerinformation:()=>ls,Handlerrecommendation:()=>fs,Highlights:()=>Ai,InterestsList:()=>Ui,Interestsets:()=>Gi,JobFeedback:()=>Ei,JobRequest:()=>yi,JobResult:()=>bi,Label:()=>gi,LightningPubRPC:()=>Pi,LiveChatMessage:()=>ui,LiveEvent:()=>ts,LongFormArticle:()=>Yi,Metadata:()=>Qo,Mutelist:()=>Bi,NWCWalletInfo:()=>Oi,NWCWalletRequest:()=>Xn,NWCWalletResponse:()=>qi,NostrConnect:()=>Mi,OpenTimestamps:()=>fi,Pinlist:()=>Ii,PrivateDirectMessage:()=>ai,ProblemTracker:()=>di,ProfileBadges:()=>Ki,PublicChatsList:()=>ki,Reaction:()=>Ct,RecommendRelay:()=>ti,RelayList:()=>Si,Relaysets:()=>Vi,Report:()=>hi,Reporting:()=>pi,Repost:()=>Nt,Seal:()=>si,SearchRelaysList:()=>Ri,ShortTextNote:()=>ei,Time:()=>ss,UserEmojiList:()=>Ti,UserStatuses:()=>ns,Zap:()=>xi,ZapGoal:()=>mi,ZapRequest:()=>vi,classifyKind:()=>Xo,isEphemeralKind:()=>jn,isParameterizedReplaceableKind:()=>Zn,isRegularKind:()=>Dn,isReplaceableKind:()=>Vn});function Dn(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Vn(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function jn(e){return 2e4<=e&&e<3e4}function Zn(e){return 3e4<=e&&e<4e4}function Xo(e){return Dn(e)?"regular":Vn(e)?"replaceable":jn(e)?"ephemeral":Zn(e)?"parameterized":"unknown"}var Qo=0,ei=1,ti=2,ni=3,ri=4,oi=5,Nt=6,Ct=7,ii=8,si=13,ai=14,ci=16,Kn=40,Fn=41,Gn=42,Wn=43,Jn=44,fi=1040,li=1063,ui=1311,di=1971,hi=1984,pi=1984,gi=1985,wi=4550,yi=5999,bi=6999,Ei=7e3,mi=9041,vi=9734,xi=9735,Ai=9802,Bi=1e4,Ii=10001,Si=10002,_i=10003,Li=10004,ki=10005,$i=10006,Ri=10007,Ui=10015,Ti=10030,Ni=10050,Ci=10059,Hi=10096,Oi=13194,Pi=21e3,Yn=22242,Xn=23194,qi=23195,Mi=24133,Ht=27235,zi=3e4,Di=30001,Vi=30002,ji=30003,Zi=30004,Ki=30008,Fi=30009,Gi=30015,Wi=30017,Ji=30018,Yi=30023,Xi=30024,Qi=30030,es=30078,ts=30311,ns=30315,rs=30402,os=30403,is=31922,ss=31923,as=31924,cs=31925,fs=31989,ls=31990,us=34550;function ds(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),o=e[`#${r}`];if(o&&!t.tags.find(([i,s])=>i===n.slice(1)&&o.indexOf(s)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function Da(e,t){for(let n=0;n<e.length;n++)if(ds(e[n],t))return!0;return!1}var hs={};T(hs,{getHex64:()=>Ot,getInt:()=>Qn,getSubscriptionId:()=>ps,matchEventId:()=>gs,matchEventKind:()=>ys,matchEventPubkey:()=>ws});function Ot(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function Qn(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,o=e.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function ps(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(o===-1)return null;let i=r+1+o;return e.slice(r+1,i)}function gs(e,t){return t===Ot(e,"id")}function ws(e,t){return t===Ot(e,"pubkey")}function ys(e,t){return t===Qn(e,"kind")}var bs={};T(bs,{makeAuthEvent:()=>Es});function Es(e,t){return{kind:Yn,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}var ms;try{ms=WebSocket}catch{}var vs;try{vs=WebSocket}catch{}var xs={};T(xs,{BECH32_REGEX:()=>er,Bech32MaxSize:()=>Pt,NostrTypeGuard:()=>As,decode:()=>Xe,encodeBytes:()=>et,naddrEncode:()=>$s,neventEncode:()=>ks,noteEncode:()=>_s,nprofileEncode:()=>Ls,npubEncode:()=>Ss,nsecEncode:()=>Is});var As={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNRelay:e=>/^nrelay1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},Pt=5e3,er=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Bs(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Xe(e){var o,i,s,a,c,l,u;let{prefix:t,words:n}=Le.decode(e,Pt),r=new Uint8Array(Le.fromWords(n));switch(t){case"nprofile":{let f=dt(r);if(!((o=f[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(f[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:P(f[0][0]),relays:f[1]?f[1].map(y=>Q.decode(y)):[]}}}case"nevent":{let f=dt(r);if(!((i=f[0])!=null&&i[0]))throw new Error("missing TLV 0 for nevent");if(f[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(f[2]&&f[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(f[3]&&f[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:P(f[0][0]),relays:f[1]?f[1].map(y=>Q.decode(y)):[],author:(s=f[2])!=null&&s[0]?P(f[2][0]):void 0,kind:(a=f[3])!=null&&a[0]?parseInt(P(f[3][0]),16):void 0}}}case"naddr":{let f=dt(r);if(!((c=f[0])!=null&&c[0]))throw new Error("missing TLV 0 for naddr");if(!((l=f[2])!=null&&l[0]))throw new Error("missing TLV 2 for naddr");if(f[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=f[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(f[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Q.decode(f[0][0]),pubkey:P(f[2][0]),kind:parseInt(P(f[3][0]),16),relays:f[1]?f[1].map(y=>Q.decode(y)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:P(r)};default:throw new Error(`unknown prefix ${t}`)}}function dt(e){let t={},n=e;for(;n.length>0;){let r=n[0],o=n[1],i=n.slice(2,2+o);if(n=n.slice(2+o),i.length<o)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(i)}return t}function Is(e){return et("nsec",e)}function Ss(e){return et("npub",_e(e))}function _s(e){return et("note",_e(e))}function Qe(e,t){let n=Le.toWords(t);return Le.encode(e,n,Pt)}function et(e,t){return Qe(e,t)}function Ls(e){let t=qt({0:[_e(e.pubkey)],1:(e.relays||[]).map(n=>Y.encode(n))});return Qe("nprofile",t)}function ks(e){let t;e.kind!==void 0&&(t=Bs(e.kind));let n=qt({0:[_e(e.id)],1:(e.relays||[]).map(r=>Y.encode(r)),2:e.author?[_e(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Qe("nevent",n)}function $s(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=qt({0:[Y.encode(e.identifier)],1:(e.relays||[]).map(r=>Y.encode(r)),2:[_e(e.pubkey)],3:[new Uint8Array(t)]});return Qe("naddr",n)}function qt(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(o=>{let i=new Uint8Array(o.length+2);i.set([parseInt(n)],0),i.set([o.length],1),i.set(o,2),t.push(i)})}),Ge(...t)}var Rs={};T(Rs,{decrypt:()=>Us,encrypt:()=>tr});async function tr(e,t,n){const r=e instanceof Uint8Array?P(e):e,o=ke.getSharedSecret(r,"02"+t),i=nr(o);let s=Uint8Array.from(Tn(16)),a=Y.encode(n),c=ln(i,s).encrypt(a),l=ee.encode(new Uint8Array(c)),u=ee.encode(new Uint8Array(s.buffer));return`${l}?iv=${u}`}async function Us(e,t,n){const r=e instanceof Uint8Array?P(e):e;let[o,i]=n.split("?iv="),s=ke.getSharedSecret(r,"02"+t),a=nr(s),c=ee.decode(i),l=ee.decode(o),u=ln(a,c).decrypt(l);return Q.decode(u)}function nr(e){return e.slice(1,33)}var Ts={};T(Ts,{NIP05_REGEX:()=>Mt,isNip05:()=>Ns,isValid:()=>Os,queryProfile:()=>rr,searchDomain:()=>Hs,useFetchImplementation:()=>Cs});var Mt=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Ns=e=>Mt.test(e||""),tt;try{tt=fetch}catch{}function Cs(e){tt=e}async function Hs(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await tt(n,{redirect:"error"})).json()).names}catch{return{}}}async function rr(e){var i;const t=e.match(Mt);if(!t)return null;const[n,r="_",o]=t;try{const s=`https://${o}/.well-known/nostr.json?name=${r}`,a=await(await tt(s,{redirect:"error"})).json();let c=a.names[r];return c?{pubkey:c,relays:(i=a.relays)==null?void 0:i[c]}:null}catch{return null}}async function Os(e,t){let n=await rr(t);return n?n.pubkey===e:!1}var Ps={};T(Ps,{parse:()=>qs});function qs(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)r[0]==="e"&&r[1]&&n.push(r),r[0]==="p"&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let r=0;r<n.length;r++){const o=n[r],[i,s,a,c]=o,l={id:s,relays:a?[a]:[]},u=r===0,f=r===n.length-1;if(c==="root"){t.root=l;continue}if(c==="reply"){t.reply=l;continue}if(c==="mention"){t.mentions.push(l);continue}if(u){t.root=l;continue}if(f){t.reply=l;continue}t.mentions.push(l)}return t}var Ms={};T(Ms,{fetchRelayInformation:()=>Ds,useFetchImplementation:()=>zs});var or;try{or=fetch}catch{}function zs(e){or=e}async function Ds(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var Vs={};T(Vs,{getPow:()=>ir,minePow:()=>js});function ir(e){let t=0;for(let n=0;n<e.length;n++){const r=parseInt(e[n],16);if(r===0)t+=4;else{t+=Math.clz32(r)-28;break}}return t}function js(e,t){let n=0;const r=e,o=["nonce",n.toString(),t.toString()];for(r.tags.push(o);;){const i=Math.floor(new Date().getTime()/1e3);if(i!==r.created_at&&(n=0,r.created_at=i),o[1]=(++n).toString(),r.id=Pe(r),ir(r.id)>=t)break}return r}var Zs={};T(Zs,{finishRepostEvent:()=>Ks,getRepostedEvent:()=>Fs,getRepostedEventPointer:()=>sr});function Ks(e,t,n,r){return pe({kind:Nt,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},r)}function sr(e){if(e.kind!==Nt)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function Fs(e,{skipVerification:t}={}){const n=sr(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Tt(r)))return r}var Gs={};T(Gs,{NOSTR_URI_REGEX:()=>nt,parse:()=>Js,test:()=>Ws});var nt=new RegExp(`nostr:(${er.source})`);function Ws(e){return typeof e=="string"&&new RegExp(`^${nt.source}$`).test(e)}function Js(e){const t=e.match(new RegExp(`^${nt.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Xe(t[1])}}var Ys={};T(Ys,{finishReactionEvent:()=>Xs,getReactedEventPointer:()=>Qs});function Xs(e,t,n){const r=t.tags.filter(o=>o.length>=2&&(o[0]==="e"||o[0]==="p"));return pe({...e,kind:Ct,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Qs(e){if(e.kind!==Ct)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var ea={};T(ea,{matchAll:()=>ta,regex:()=>zt,replaceAll:()=>na});var zt=()=>new RegExp(`\\b${nt.source}\\b`,"g");function*ta(e){const t=e.matchAll(zt());for(const n of t)try{const[r,o]=n;yield{uri:r,value:o,decoded:Xe(o),start:n.index,end:n.index+r.length}}catch{}}function na(e,t){return e.replaceAll(zt(),(n,r)=>t({uri:n,value:r,decoded:Xe(r)}))}var ra={};T(ra,{channelCreateEvent:()=>oa,channelHideMessageEvent:()=>aa,channelMessageEvent:()=>sa,channelMetadataEvent:()=>ia,channelMuteUserEvent:()=>ca});var oa=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pe({kind:Kn,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},ia=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pe({kind:Fn,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},sa=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),pe({kind:Gn,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},aa=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pe({kind:Wn,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},ca=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pe({kind:Jn,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},fa={};T(fa,{EMOJI_SHORTCODE_REGEX:()=>ar,matchAll:()=>la,regex:()=>Dt,replaceAll:()=>ua});var ar=/:(\w+):/,Dt=()=>new RegExp(`\\B${ar.source}\\B`,"g");function*la(e){const t=e.matchAll(Dt());for(const n of t)try{const[r,o]=n;yield{shortcode:r,name:o,start:n.index,end:n.index+r.length}}catch{}}function ua(e,t){return e.replaceAll(Dt(),(n,r)=>t({shortcode:n,name:r}))}var da={};T(da,{useFetchImplementation:()=>ha,validateGithub:()=>pa});var Vt;try{Vt=fetch}catch{}function ha(e){Vt=e}async function pa(e,t,n){try{return await(await Vt(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var ga={};T(ga,{decrypt:()=>pr,encrypt:()=>hr,getConversationKey:()=>lr,v2:()=>ma});var cr=1,fr=65535;function lr(e,t){const n=ke.getSharedSecret(e,"02"+t).subarray(1,33);return Mo(Oe,n,"nip44-v2")}function ur(e,t){const n=zo(Oe,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function jt(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function wa(e){if(!Number.isSafeInteger(e)||e<cr||e>fr)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function ya(e){const t=Y.encode(e),n=t.length,r=wa(n),o=new Uint8Array(jt(n)-n);return Ge(r,t,o)}function ba(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<cr||t>fr||n.length!==t||e.length!==2+jt(t))throw new Error("invalid padding");return Q.decode(n)}function dr(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Ge(n,t);return Je(Oe,e,r)}function Ea(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=ee.decode(e)}catch(i){throw new Error("invalid base64: "+i.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const o=n[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function hr(e,t,n=Tn(32)){const{chacha_key:r,chacha_nonce:o,hmac_key:i}=ur(t,n),s=ya(e),a=un(r,o,s),c=dr(i,a,n);return ee.encode(Ge(new Uint8Array([2]),n,a,c))}function pr(e,t){const{nonce:n,ciphertext:r,mac:o}=Ea(e),{chacha_key:i,chacha_nonce:s,hmac_key:a}=ur(t,n),c=dr(a,r,n);if(!Ir(c,o))throw new Error("invalid MAC");const l=un(i,s,r);return ba(l)}var ma={utils:{getConversationKey:lr,calcPaddedLen:jt},encrypt:hr,decrypt:pr},va={};T(va,{makeNwcRequestEvent:()=>Aa,parseConnectionString:()=>xa});function xa(e){const{pathname:t,searchParams:n}=new URL(e),r=t,o=n.get("relay"),i=n.get("secret");if(!r||!o||!i)throw new Error("invalid connection string");return{pubkey:r,relay:o,secret:i}}async function Aa(e,t,n){const o=await tr(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),i={kind:Xn,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return pe(i,t)}var Ba={};T(Ba,{getZapEndpoint:()=>Sa,makeZapReceipt:()=>ka,makeZapRequest:()=>_a,useFetchImplementation:()=>Ia,validateZapRequest:()=>La});var Zt;try{Zt=fetch}catch{}function Ia(e){Zt=e}async function Sa(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:s}=Le.decode(n,1e3),a=Le.fromWords(s);t=Q.decode(a)}else if(r){let[s,a]=r.split("@");t=new URL(`/.well-known/lnurlp/${s}`,`https://${a}`).toString()}else return null;let i=await(await Zt(t)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function _a({profile:e,event:t,amount:n,relays:r,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&i.tags.push(["e",t]),i}function La(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Mn(t))return"Zap request is not a valid Nostr event.";if(!Tt(t))return"Invalid signature on zap request.";let n=t.tags.find(([i,s])=>i==="p"&&s);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([i,s])=>i==="e"&&s);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([i,s])=>i==="relays"&&s)?null:"Zap request doesn't have a 'relays' tag."}function ka({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e),i=o.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),s={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["P",o.pubkey],["bolt11",n],["description",e]]};return t&&s.tags.push(["preimage",t]),s}var $a={};T($a,{getToken:()=>Ra,hashPayload:()=>Kt,unpackEventFromToken:()=>wr,validateEvent:()=>xr,validateEventKind:()=>br,validateEventMethodTag:()=>mr,validateEventPayloadTag:()=>vr,validateEventTimestamp:()=>yr,validateEventUrlTag:()=>Er,validateToken:()=>Ua});var gr="Nostr ";async function Ra(e,t,n,r=!1,o){const i={kind:Ht,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&i.tags.push(["payload",Kt(o)]);const s=await n(i);return(r?gr:"")+ee.encode(Y.encode(JSON.stringify(s)))}async function Ua(e,t,n){const r=await wr(e).catch(i=>{throw i});return await xr(r,t,n).catch(i=>{throw i})}async function wr(e){if(!e)throw new Error("Missing token");e=e.replace(gr,"");const t=Q.decode(ee.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function yr(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function br(e){return e.kind===Ht}function Er(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function mr(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Kt(e){const t=Oe(Y.encode(JSON.stringify(e)));return P(t)}function vr(e,t){const n=e.tags.find(o=>o[0]==="payload");if(!n)return!1;const r=Kt(t);return n.length>0&&n[1]===r}async function xr(e,t,n,r){if(!Tt(e))throw new Error("Invalid nostr event, signature invalid");if(!br(e))throw new Error("Invalid nostr event, kind invalid");if(!yr(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Er(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!mr(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!vr(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}export{Da as a,Ma as b,ga as c,Rs as d,Ba as e,pe as f,za as g,ds as m,xs as n};
